{
  "version": 3,
  "sources": ["../../react-hook-inview/dist/esm/useInView.js", "../../react-hook-inview/dist/esm/useObserver.js"],
  "sourcesContent": ["import { useEffect, useState, useCallback, } from \"react\";\nimport useObserver from \"./useObserver\";\n/**\n * useInView\n * @param options IntersectionObserverInit\n * @param externalState React.ComponentState[]\n */\nconst useInView = ({ root, rootMargin, threshold, unobserveOnEnter, target, onEnter, onLeave, defaultInView } = {}, externalState = []) => {\n    const [state, setState] = useState({\n        inView: defaultInView || false,\n        entry: null,\n        observer: null,\n    });\n    const callback = useCallback(([entry], observer) => {\n        const inThreshold = observer.thresholds.some((t) => entry.intersectionRatio >= t);\n        const inView = inThreshold && entry.isIntersecting;\n        setState({\n            inView,\n            entry,\n            observer,\n        });\n        // unobserveOnEnter\n        if (inView && unobserveOnEnter) {\n            observer.unobserve(entry.target);\n            observer.disconnect();\n        }\n        // Legacy callbacks\n        if (inView) {\n            onEnter === null || onEnter === void 0 ? void 0 : onEnter(entry, observer);\n        }\n        else {\n            onLeave === null || onLeave === void 0 ? void 0 : onLeave(entry, observer);\n        }\n    }, [onEnter, onLeave, unobserveOnEnter]);\n    const setTarget = useObserver(callback, { root, rootMargin, threshold }, [unobserveOnEnter, ...externalState]);\n    // Legacy 'target' option\n    useEffect(() => {\n        if (target === null || target === void 0 ? void 0 : target.current)\n            setTarget(target.current);\n    }, [target, setTarget]);\n    return [setTarget, state.inView, state.entry, state.observer];\n};\nexport default useInView;\n", "import { useRef, useCallback, } from \"react\";\n/**\n * useObserver\n * @param callback IntersectionObserverCallback\n * @param options IntersectionObserverInit\n * @param externalState React.ComponentState[]\n */\nconst useObserver = (callback, { root, rootMargin, threshold } = {}, externalState = []) => {\n    const target = useRef(null);\n    const observer = useRef(null);\n    const setTarget = useCallback((node) => {\n        if (target.current && observer.current) {\n            observer.current.unobserve(target.current);\n            observer.current.disconnect();\n            observer.current = null;\n        }\n        if (node) {\n            observer.current = new IntersectionObserver(callback, { root, rootMargin, threshold });\n            observer.current.observe(node);\n            target.current = node;\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [target, root, rootMargin, JSON.stringify(threshold), ...externalState]);\n    return setTarget;\n};\nexport default useObserver;\n"],
  "mappings": ";;;;;;;;AAAA,IAAAA,gBAAkD;;;ACAlD,mBAAqC;AAOrC,IAAM,cAAc,CAAC,UAAU,EAAE,MAAM,YAAY,UAAU,IAAI,CAAC,GAAG,gBAAgB,CAAC,MAAM;AACxF,QAAM,aAAS,qBAAO,IAAI;AAC1B,QAAM,eAAW,qBAAO,IAAI;AAC5B,QAAM,gBAAY,0BAAY,CAAC,SAAS;AACpC,QAAI,OAAO,WAAW,SAAS,SAAS;AACpC,eAAS,QAAQ,UAAU,OAAO,OAAO;AACzC,eAAS,QAAQ,WAAW;AAC5B,eAAS,UAAU;AAAA,IACvB;AACA,QAAI,MAAM;AACN,eAAS,UAAU,IAAI,qBAAqB,UAAU,EAAE,MAAM,YAAY,UAAU,CAAC;AACrF,eAAS,QAAQ,QAAQ,IAAI;AAC7B,aAAO,UAAU;AAAA,IACrB;AAAA,EAEJ,GAAG,CAAC,QAAQ,MAAM,YAAY,KAAK,UAAU,SAAS,GAAG,GAAG,aAAa,CAAC;AAC1E,SAAO;AACX;AACA,IAAO,sBAAQ;;;ADlBf,IAAM,YAAY,CAAC,EAAE,MAAM,YAAY,WAAW,kBAAkB,QAAQ,SAAS,SAAS,cAAc,IAAI,CAAC,GAAG,gBAAgB,CAAC,MAAM;AACvI,QAAM,CAAC,OAAO,QAAQ,QAAI,wBAAS;AAAA,IAC/B,QAAQ,iBAAiB;AAAA,IACzB,OAAO;AAAA,IACP,UAAU;AAAA,EACd,CAAC;AACD,QAAM,eAAW,2BAAY,CAAC,CAAC,KAAK,GAAG,aAAa;AAChD,UAAM,cAAc,SAAS,WAAW,KAAK,CAAC,MAAM,MAAM,qBAAqB,CAAC;AAChF,UAAM,SAAS,eAAe,MAAM;AACpC,aAAS;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,IACJ,CAAC;AAED,QAAI,UAAU,kBAAkB;AAC5B,eAAS,UAAU,MAAM,MAAM;AAC/B,eAAS,WAAW;AAAA,IACxB;AAEA,QAAI,QAAQ;AACR,kBAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,OAAO,QAAQ;AAAA,IAC7E,OACK;AACD,kBAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,OAAO,QAAQ;AAAA,IAC7E;AAAA,EACJ,GAAG,CAAC,SAAS,SAAS,gBAAgB,CAAC;AACvC,QAAM,YAAY,oBAAY,UAAU,EAAE,MAAM,YAAY,UAAU,GAAG,CAAC,kBAAkB,GAAG,aAAa,CAAC;AAE7G,+BAAU,MAAM;AACZ,QAAI,WAAW,QAAQ,WAAW,SAAS,SAAS,OAAO;AACvD,gBAAU,OAAO,OAAO;AAAA,EAChC,GAAG,CAAC,QAAQ,SAAS,CAAC;AACtB,SAAO,CAAC,WAAW,MAAM,QAAQ,MAAM,OAAO,MAAM,QAAQ;AAChE;AACA,IAAO,oBAAQ;",
  "names": ["import_react"]
}
